;
; This file is part of ARes.
; Copyright (C) 1995 Denis Gounelle
;
; ARes is free software: you can redistribute it and/or modify
; it under the terms of the GNU General Public License as published by
; the Free Software Foundation, either version 3 of the License, or
; (at your option) any later version.
;
; ARes is distributed in the hope that it will be useful,
; but WITHOUT ANY WARRANTY; without even the implied warranty of
; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
; GNU General Public License for more details.
;
; You should have received a copy of the GNU General Public License
; along with ARes.  If not, see <http://www.gnu.org/licenses/>.
;
;
; ARes (c)1990-1994 par Denis GOUNELLE
;
;--------------------------------------------------------------------
;
; void CtoBstr( char *cs , char *bs )
;
	CSECT text
;
_CtoBstr:
	move.l	4(sp),a0        ; a0 = cs
	move.l	8(sp),a1        ; a1 = bs
	addq.l	#1,a1		; passe lg
	moveq	#-1,d0		; d0 = lg
cbbcle:
	addq.l	#1,d0
	move.b	(a0)+,(a1)+     ; copie la chaine C
	bne.s	cbbcle
	move.l	8(sp),a1        ; met la longueur
	move.b	d0,(a1)
	rts
;
; void BtoCstr( char *bs , char *cs )
;
_BtoCstr:
	move.l	4(sp),a0        ; a0 = bs
	move.l	8(sp),a1        ; a1 = cs
	move.b	(a0)+,d0        ; d0 = lg
	beq.s	bcfin
	ext.w	d0
	subq.l	#1,d0
bcbcle:
	move.b	(a0)+,(a1)+     ; copie la chaine BCPL
	dbra	d0,bcbcle
bcfin:
	moveq	#0,d0		; met l'octet nul
	move.b	d0,(a1)
	rts
;
	XDEF	_CtoBstr
	XDEF	_BtoCstr
	END

