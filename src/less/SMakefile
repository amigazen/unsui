# SAS (Lattice) C makefile for Less
# Note:  Requires AmigaDOS 2.0 include files
# SAS-C v6.1

# R. L. Zarling rayz@csustan.edu

CFILES = ch.c command.c help.c input.c io.c line.c main.c option.c os.c \
		output.c postion.c prim.c prompt.c screen.c signal.c \
		ttyin.c version.c regexp.c

OFILES = ch.o command.o help.o input.o io.o line.o main.o option.o os.o \
        output.o position.o prim.o prompt.o screen.o signal.o \
        ttyin.o version.o regexp.o stuffChar.o

CFLAGS1 =
CFLAGS = $(CFLAGS1)  
CC =sc
LC = slink

.c.o:
        $(CC) $(CFLAGS) $*.c

Less:   $(OFILES) SCOPTIONS SMakefile
        $(LC) FROM sc:lib/cres.o $(OFILES) TO less LIB sc:lib/sc.lib LIB lib:small.lib

ch.o:   ch.c 
command.o: command.c position.h  
help.o: help.c  
input.o: input.c  
io.o:   io.c  
line.o: line.c  
main.o: main.c position.h  
option.o: option.c  
os.o:   os.c  
output.o: output.c  
position.o: position.c position.h  
prim.o: prim.c   position.h regexp.h
prompt.o: prompt.c position.h  
screen.o: screen.c  
signal.o: signal.c  
ttyin.o: ttyin.c  
version.o: version.c  
regexp.o: regexp.c regmagic.h regexp.h
        $(CC) $(CFLAGS1) $*
stuffChar.o: stuffChar.a
	asm stuffChar.a

clean:
        delete ch.o
        delete command.o
        delete help.o
        delete input.o
        delete io.o
        delete line.o
        delete main.o
        delete option.o
        delete os.o
        delete output.o
        delete position.o
        delete prim.o
        delete prompt.o
        delete screen.o
        delete signal.o
        delete ttyin.o
        delete version.o
        delete regexp.o
        delete stuffChar.o
